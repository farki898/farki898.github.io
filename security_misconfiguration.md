![](https://hidden-process.com/app/uploads/2019/10/security-misconfiguration.png)

# ช่องโหว่ประเภท Security Misconfiguration

`Security Misconfiguration` เป็นช่องโหว่ที่ถูกจัดให้อยู่ในลำดับที่ 5 ของ OWASP TOP 10 2013 ช่องโหว่ประเภทนี้เป็นช่องโหว่ที่เกิดจากการตั้งค่าที่ผิดพลาดของระบบ เนื่องจากเว็บแอปพลิเคชันประกอบไปด้วยหลายส่วนประกอบ ทุกส่วนต้องได้รับการดูและและตั้งค่าอย่างถูกต้องมิฉะนั้นก็จะกลายเป็นช่องโหว่ที่นำความเสียหายมาสู่ระบบทั้งระบบ ในบทความนี้จะอธิบายตัวอย่างช่องโหว่ประเภทนี้และผลกระทบที่อาจจะเกิดขึ้นต่อระบบ

### อะไรที่สามารถทำให้เกิดช่องโหว่ Security Misconfiguration ได้บ้าง?

ความมั่นคงปลอดภัยของเว็บแอปพลิเคชันนั้นขึ้นอยู่กับส่วนประกอบทุกส่วน อย่างไรก็ตามส่วนประกอบในฝังของผู้ใช้งาน (client-side) นั้น อยู่นอกเหนือความควบคุมของผู้พัฒนาระบบ ดังนั้น ในบทความนี้จะขอมุ่งเน้นไปที่ส่วนประกอบของเว็บแอปพลิเคชันในฝั่งเซิร์ฟเวอร์ ซึ่งปะกอบไปด้วย

### Web application

ช่องโหว่สามารถเกิดขึ้นได้จากการตั้งค่าที่ผิดพลาดของเว็บแอปพลิเคชัน เช่น การกำหนดสิทธิ์ในการเข้าถึงแต่ละส่วนอย่างผิดพลาด ช่องโหว่ประเภทนี้ไม่ได้รวมถึงการทำ authorization ที่ผิดพลาด แต่หมายถึงการตั้งค่าสิทธิ์ หรือ การตั้งค่าอื่น ๆ ที่ผิดพลาด นอกจากนี้หากเว็บแอปพลิเคชันมีการใช้ Content Management System (Joomla, WordPress, Dupal) เป็นโครงสร้างและไม่ได้ทำการ update security patch ให้กับ CMS เหล่านี้ก็ถูกจัดให้เป็นช่องโหว่ในประเภท Security Misconfiguration โดยผลกระทบของช่องโหว่ก็แตกต่างกันไป เช่น การตั้งค่าที่ผิดพลาดอาจจะนำไปสู่การเปิดเผยข้อมูลความลับให้กับผู้ใช้งานที่ไม่สมควร การอนุญาตให้ผู้ใช้งานลบข้อมูลสำคัญบางอย่างของระบบเป็นต้น

### Web application framework

Web application framework เช่น Hibernate, CakePHP, หรือ Django ได้รับความนิยมในการนำมาช่วยในการพัฒนาเว็บแอปพลิเคชันมากขึ้น เนื่องจากช่วยให้ผู้พัฒนาสามารถพัฒนาเว็บแอปพลิเคชันได้รวดเร็วและเป็นระเบียบขึ้น อย่างไรก็ตาม เนื่องจาก web application framework ก็เป็น software ตัวหนึ่งซึ่งสามารถมีช่องโหว่ได้เช่นกันซึ่งหากไม่ได้รับการ update security patch เป็นเวลานานก็สามารถเป็นช่องทางในการโจมตีสำหรับผู้ไม่หวังดีได้

### Web server software

Web server software เช่น Apache, WebSphere, NodeJS เป็นส่วนประกอบของการทำงานของเว็บแอปพลิเคชัน หน้าที่ของ web server software คือการรับ HTTP request มาประมวลผล ดังนั้น เรียกได้ว่า web server software เป็นส่วนประกอบที่มีการรับข้อมูลจากผู้ใช้งานโดยตรง configuration การทำงานของ interpreter และ compliler ที่ใช้ในเว็บแอปพลิเคชัน รวมถึง การตั้งค่าการอื่น ๆ เกี่ยวกับการจัดการ HTTP requeset และ HTTP response ต่างอยู่ที่ web server software configuration ดังนั้น ช่องโหว่ที่เกิดจากการตั้งค่า web server software สามารถสร้างความเสียหายได้กับเว็บแอปพลิเคชันได้อย่างมาก ตัวอย่างของ security misconfiguration ใน web server software ที่ได้เจอได้บ่อยเช่น

1. การเปิด directory listing
2. ไม่ได้ update security patch เป็นเวลานาน
3. ตั้งค่า session ไม่ถูกต้องทำให้เกิด session fixation
4. ไม่ได้ตั้งค่า HttpOnly ให้กับ Cookie
5. เรียกใช้งานเวอร์ชันของ interpreter และ complier เช่น PHP/JAVA/ASP/Python ที่มีช่องโหว่
6. Error message ที่บอกให้ผู้ใช้งานได้ทราบถึงข้อมูลของซอร์ฟแวร์ที่ใช้ในเครื่องเซิร์ฟเวอร์

ตัวอย่าง directory listing เปิดโอกาสให้ผู้ใช้งานเห็นไฟล์ทั้งหมดใน directory

![](https://i2.wp.com/blog.tamacorp.co/wp-content/uploads/2016/01/Screen-Shot-2559-01-18-at-1.01.31-PM.png?w=421&ssl=1)


